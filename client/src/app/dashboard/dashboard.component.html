<navbar></navbar>
<div class="banner d-flex justify-content-center align-items-center mb-4">
  <h2 class="align-middle">Your pinned programs! <i>Find more programs <a [routerLink]="['home']">here</a>!</i></h2>
</div>

<div class="container mt-3">

  <div class="card-columns">
    <div *ngFor="let program of enrolledPrograms" class="card" style="display: inline-block;">
      <div class="card-body">
        <a [routerLink]="['/program_detail', program.id]">
          <h5 class="card-title">{{program.name}}</h5>
        </a>
        <p class="card-text">{{program.description | maxLength : 200}}</p>
      </div>
    </div>
  </div>

</div>


<div class="banner d-flex justify-content-center align-items-center mb-4">
  <h2 class="align-middle">Your Courses! <i>look up our most <a [routerLink]="['home']">popular courses</a>!</i></h2>
</div>


<div class="container mt-3">

    <!--Si solo se inscribe (USUARIO NORMAL)-->
    <div *ngIf="createdCourses.length == 0 && enrolledCourses.length !=0">
      <h4>Enrolled and tagged courses:</h4>
      <div *ngFor="let course of enrolledCourses" class="card w-75  mt-2" style="width: 18rem;">
        <div class="card-body">
          <a [routerLink]="['/details', course.id]">
            <h5 class="card-title">{{course.name}}</h5>
          </a>

          <ng-template #t let-fill="fill">
          <span class="star" [class.full]="fill === 100">
            <span class="half" [style.width.%]="fill">&hearts;</span>&hearts;
          </span>
          </ng-template>
          <ngb-rating [(rate)]="course.rating" [starTemplate]="t" [readonly]="true" max="5"></ngb-rating>

          <p class="card-text">{{course.description | maxLength : 200}}</p>
          <p class="card-text">Publisher: {{course.publisher.surname}}</p>
        </div>
      </div>
    </div>

     <!--solo crea (PUBLICADOR)-->
    <div *ngIf="createdCourses.length != 0 && enrolledCourses.length ==0">
      <h4>Created courses:</h4>
      <div *ngFor="let course of createdCourses" class="card w-75  mt-2" style="width: 18rem;">
        <div class="card-body">
          <a [routerLink]="['/details', course.id]">
            <h5 class="card-title">{{course.name}}</h5>
          </a>

          <ng-template #t let-fill="fill">
              <span class="star" [class.full]="fill === 100">
                <span class="half" [style.width.%]="fill">&hearts;</span>&hearts;
              </span>
          </ng-template>
          <ngb-rating [(rate)]="course.rating" [starTemplate]="t" [readonly]="true" max="5"></ngb-rating>

          <p class="card-text">{{course.description | maxLength : 200}}</p>
          <p class="card-text">Publisher: {{course.publisher.surname}}</p>
        </div>
      </div>
    </div>

     <!--crea cursos y se hace enroll (MEZCLA)-->
    <div *ngIf="createdCourses.length != 0 && enrolledCourses.length !=0">
      <div class="row">
        <div class="col-md-5" style="padding-right:20px; border-right: 2px solid #ccc;">
          <h4>Created courses:</h4>
          <div style="overflow-y: scroll; height: 600px">
            <div *ngFor="let course of createdCourses" class="card w-100  mt-2" style="width: 18rem;">
              <div class="card-body">
                <a [routerLink]="['/details', course.id]">
                  <h5 class="card-title">{{course.name}}</h5>
                </a>

                <ng-template #t let-fill="fill">
                <span class="star" [class.full]="fill === 100">
                  <span class="half" [style.width.%]="fill">&hearts;</span>&hearts;
                </span>
                </ng-template>
                <ngb-rating [(rate)]="course.rating" [starTemplate]="t" [readonly]="true" max="5"></ngb-rating>

                <p class="card-text">{{course.description | maxLength : 200}}</p>
                <p class="card-text">Publisher: {{course.publisher.surname}}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-7">
          <h4>Enrolled and tagged courses:</h4>
          <div style="overflow-y: scroll; height: 600px">
            <div *ngFor="let course of enrolledCourses" class="card w-100  mt-2" style="width: 18rem;">
              <div class="card-body">
                <a [routerLink]="['/details', course.id]">
                  <h5 class="card-title">{{course.name}}</h5>
                </a>

                <ng-template #t let-fill="fill">
                <span class="star" [class.full]="fill === 100">
                  <span class="half" [style.width.%]="fill">&hearts;</span>&hearts;
                </span>
                </ng-template>
                <ngb-rating [(rate)]="course.rating" [starTemplate]="t" [readonly]="true" max="5"></ngb-rating>

                <p class="card-text">{{course.description | maxLength : 200}}</p>
                <p class="card-text">Publisher: {{course.publisher.surname}}</p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <div *ngIf="createdCourses.length == 0 && enrolledCourses.length == 0">
      <p>Feel free to look at our course or created your own!</p>
    </div>

</div>

<endbar></endbar>
